---
import { formatShortDate } from '../utils/date'
import Title from './typography/Title.astro'

interface Props {
  title: string
  description: string
  publishedAt: string
  image?: string
  imageAlt?: string
  link?: string
  className?: string
}

const { link, image, title, description, imageAlt, publishedAt, className } = Astro.props
---

<a href={link} class={className}>
  <div class="w-full h-full lg:flex rounded border border-slate-200 dark:border-slate-800">
    {
      image && (
        <div
          class="h-48 lg:h-auto lg:w-48 flex-none bg-cover bg-center rounded-t lg:rounded-l lg:rounded-tr-none text-center overflow-hidden"
          style={`background-image: url('${image}')`}
          title={imageAlt}
        />
      )
    }
    <div class="p-4 flex flex-col justify-between leading-normal">
      <div class="mb-8">
        <Title as="h3" className="mb-2">{title}</Title>
        <p class="text-slate-600 dark:text-slate-300 line-clamp-2">{description}</p>
      </div>

      <p class="text-sm text-slate-500 dark:text-slate-400">{formatShortDate(publishedAt)}</p>
    </div>
  </div>
</a>
